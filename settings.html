<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PosePal Settings</title>
    <!-- Removed link to style.css to avoid conflicts if it's not tailored for settings page -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            padding: 20px;
            width: 380px; /* Increased width to prevent cutoff */
            margin: 0 auto; /* Center page if window is wider */
            background-color: #f3e5f5; /* Light purple background */
            color: #4a148c; /* Dark purple text */
            box-sizing: border-box;
        }
        h1 {
            color: #6a1b9a; /* Medium-dark purple for heading */
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
        }
        .settings-container {
            background-color: #ffffff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(74, 20, 140, 0.15); /* Subtle purple shadow */
        }
        .setting {
            margin-bottom: 25px;
        }
        .setting label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #6a1b9a; /* Medium-dark purple for labels */
            font-size: 14px;
        }
        .setting input[type="checkbox"],
        .setting input[type="number"],
        .setting select {
            width: calc(100% - 22px); /* Full width minus padding */
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #ce93d8; /* Lighter purple border for inputs */
            font-size: 14px;
            box-sizing: border-box;
            color: #4a148c; /* Dark purple text for input values */
        }
        .setting input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
            vertical-align: middle;
            accent-color: #7b1fa2; /* Purple for checkbox tick */
        }
        .checkbox-label-container { /* Wrapper for checkbox and its actual label text */
            display: flex;
            align-items: center;
        }
         .checkbox-label-container label { /* Label text next to checkbox */
            margin-bottom: 0;
            font-weight: normal;
            color: #4a148c; /* Match body text color */
        }

        button {
            background-color: #7b1fa2; /* Primary purple for buttons */
            color: white;
            padding: 12px 18px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            transition: background-color 0.2s ease-in-out;
            margin-top: 10px; /* Add some space above the first button */
        }
        button:hover {
            background-color: #6a1b9a; /* Darker purple on hover */
        }
        button#resetToDefaults {
            background-color: #ab47bc; /* Lighter purple for reset button */
        }
        button#resetToDefaults:hover {
            background-color: #9c27b0; /* Slightly darker hover for reset */
        }
        #statusMessage {
            margin-top: 20px;
            text-align: center;
            font-weight: 500;
            color: #7b1fa2; /* Primary purple for status message */
            min-height: 20px; /* Prevent layout shift */
        }
        /* Ensure range text in labels is less prominent */
        .setting label span {
            font-weight: normal;
            font-size: 0.9em;
            color: #8e24aa; /* Medium purple for range text */
        }
    </style>
</head>
<body>
    <h1>PosePal Settings</h1>

    <div class="settings-container">
        <div class="setting">
            <div class="checkbox-label-container">
                <input type="checkbox" id="enableNotifications">
                <label for="enableNotifications">Enable Notifications</label>
            </div>
        </div>

        <div class="setting">
            <label for="headTiltAngleThreshold">Head Tilt Angle Threshold (degrees) <span>(0-45)</span>:</label>
            <input type="number" id="headTiltAngleThreshold" name="headTiltAngleThreshold" step="1" min="0" max="45">
        </div>

        <div class="setting">
            <label for="forwardHeadAngleThreshold">Forward Head Angle Threshold (degrees) <span>(0-45)</span>:</label>
            <input type="number" id="forwardHeadAngleThreshold" name="forwardHeadAngleThreshold" step="1" min="0" max="45">
        </div>

        <div class="setting">
            <label for="shoulderTiltAngleThreshold">Shoulder Tilt Angle Threshold (degrees) <span>(0-30)</span>:</label>
            <input type="number" id="shoulderTiltAngleThreshold" name="shoulderTiltAngleThreshold" step="1" min="0" max="30">
        </div>

        <div class="setting">
            <label for="minVerticalNeckHeight">Min Vertical Neck Height (ratio) <span>(0.01-0.1)</span>:</label>
            <input type="number" id="minVerticalNeckHeight" name="minVerticalNeckHeight" step="0.005" min="0.01" max="0.1">
        </div>

        <div class="setting">
            <label for="notificationInterval">Notification Interval (seconds) <span>(1-300)</span>:</label>
            <input type="number" id="notificationInterval" name="notificationInterval" step="1" min="1" max="300">
        </div>

        <div class="setting">
            <div class="checkbox-label-container">
                <input type="checkbox" id="enableAutoPip">
                <label for="enableAutoPip">Enable Automatic Picture-in-Picture (PiP)</label>
            </div>
        </div>

        <div class="setting">
            <div class="checkbox-label-container">
                <input type="checkbox" id="enableBlurEffect">
                <label for="enableBlurEffect">Enable Blur Effect on Other Tabs (Bad Posture)</label>
            </div>
        </div>

        <hr style="margin: 30px 0; border-color: #ce93d8;">

        <h2>Calibration Settings</h2>

        <div class="setting" id="calibratedValuesDisplay" style="background-color: #f9f9f9; padding: 10px; border-radius: 5px; margin-bottom:15px; display: none;">
            <label style="font-weight:bold; color: #6a1b9a; margin-bottom: 5px;">Current Calibrated Posture:</label>
            <div id="calibratedHeadTilt">- Head Tilt: N/A</div>
            <div id="calibratedForwardHead">- Forward Head: N/A</div>
            <div id="calibratedShoulderTilt">- Shoulder Tilt: N/A</div>
            <div id="calibratedNeckHeight">- Neck Height Ratio: N/A</div>
        </div>

        <div class="setting">
            <label for="maxHeadTiltDeviation">Max Head Tilt Deviation (degrees) <span>(0-20)</span>:</label>
            <input type="number" id="maxHeadTiltDeviation" name="maxHeadTiltDeviation" step="1" min="0" max="20">
        </div>

        <div class="setting">
            <label for="maxForwardHeadDeviation">Max Forward Head Deviation (degrees) <span>(0-20)</span>:</label>
            <input type="number" id="maxForwardHeadDeviation" name="maxForwardHeadDeviation" step="1" min="0" max="20">
        </div>

        <div class="setting">
            <label for="maxShoulderTiltDeviation">Max Shoulder Tilt Deviation (degrees) <span>(0-15)</span>:</label>
            <input type="number" id="maxShoulderTiltDeviation" name="maxShoulderTiltDeviation" step="1" min="0" max="15">
        </div>

        <div class="setting">
            <label for="neckHeightRatioDeviation">Neck Height Ratio Deviation (ratio) <span>(0.001-0.05)</span>:</label>
            <input type="number" id="neckHeightRatioDeviation" name="neckHeightRatioDeviation" step="0.001" min="0.001" max="0.05">
        </div>

        <button id="clearCalibration" style="background-color: #ef5350; margin-bottom: 20px;">Clear Calibrated Posture</button>
        
        <button id="saveSettings">Save Settings</button>
        <button id="resetToDefaults">Reset to Defaults</button>
        <p id="statusMessage"></p>
    </div>

    <script src="settings.js"></script>
</body>
</html>